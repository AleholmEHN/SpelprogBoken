<script src="http://spelprogrammering.nu/simple.js">


    function start()
    {
        // Strecket är en ljuscykel man åker på....
        cycle = {x: 20, y: 250, xSpeed: 1, ySpeed :0, score: 0, size:5};
        
        line(0,0,totalWidth, 0,10, "blue");
        line(0,0,0,totalHeight, 10, "blue");
        line(0,totalHeight, totalWidth, totalHeight, 10, "blue");
        line(totalWidth, 0, totalWidth, totalHeight, 10, "blue");
        
        line(0,100, totalWidth, 100, 5, "blue");
    }
    
    function update()
    {
        rectangle(cycle.x, cycle.y, cycle.size, cycle.size, "blue");
        cycle.score++;
        
        // "Måla över" poängrutan innan den skrivs igen.
        rectangle(10, 10, totalWidth-20, 80, "white");
        text(20, 75, 70, "TRON | Score: " + cycle.score, "blue");
        
        // Kontrollera tangentbordet
        if (keyboard.left)
        {
            cycle.xSpeed = -1;
            cycle.ySpeed = 0;
        }
        if (keyboard.right)
        {
            cycle.xSpeed = 1;
            cycle.ySpeed = 0;
        }
        if (keyboard.up)
        {
            cycle.xSpeed = 0;
            cycle.ySpeed = -1;
        }
        if (keyboard.down)
        {
            cycle.xSpeed = 0;
            cycle.ySpeed = 1;
        }

        
        
        cycle.x += cycle.xSpeed*cycle.size;
        cycle.y += cycle.ySpeed*cycle.size;
 
        // Kontroll om man krockat med blått.
        if (getPixel(cycle.x, cycle.y).blue != 0)
        {
            rectangle(cycle.x, cycle.y, cycle.size, cycle.size, "red");
            alert("END OF LINE");
            stopUpdate();
        }
        
    }


</script>